<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>I need a hero!</title>
    <style>
    
    .sampleImage {
        height: 600px;
        width: 600px;
        border: 1px solid black;
    }
    </style>
</head>
<body>

<form class="chooseDevice" action="">
    <label for="font">Choose device</label>
    <select name="device" id="deviceChoice">
        <option value="desktop">Desktop</option>
        <option value="tablet">Tablet</option>
        <option value="mobile">Mobile</option>
    </select>
</form>

<div class="sampleImage">
</div>

<h1>Header Here</h1>
<!-- choose a colour for the header -->
<form class="colourForm" action="">
    <input type="color">
    <input class="submitColourForm" type="submit">
</form>

<!-- choose a font style -->
<form class="chooseFontStyle"action="">
    <label for="font">Choose your font style</label>
    <select name="font" id="fontChoice">
        <option value="serif">Serif</option>
        <option value="sans-serif">Sans-Serif</option>
        <option value="display">Display</option>
        <option value="handwriting">Handwriting</option>
        <option value="monospace">Monospace</option>
    </select>
</form>
<button>Shuffle Font</button>

<form class="userText" action="">
    <input type="text" placeholder="Your header here">
    <input type="submit" value="change header">
</form>

    <script src='https://code.jquery.com/jquery-3.2.1.min.js' integrity='sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4='crossorigin='anonymous'></script>
    <script>
        const app = {};
        

        app.getFont = function (font) {
            $.ajax({
                url: 'https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBU2zC417qkzNXlBPN23A2xRQO4MOD41lI',
                dataType: 'json',
                })

        .then((res) => {
            const fontCategory = [];
            
            for (let i = 0; i < res.items.length; i++) {
            if (res.items[i].category == font) {
                fontCategory.push(res.items[i]);
                }
            }

            $('button').on('click', function () {

                const randomFont = Math.floor(Math.random() * fontCategory.length);

                const fontFamily = fontCategory[randomFont].family;
                const fontLink = fontCategory[randomFont].files.regular;
                
                $('h1').css('font-family', fontFamily);

                var newStyle = document.createElement('style');
                newStyle.appendChild(document.createTextNode("\
                    @font-face {\
                    font-family: " + fontFamily + ";\
                    src: url('" + fontLink + "')\
                }\
                "));

                document.head.appendChild(newStyle);
                })
            })
        };

    // event method to change the font based on the user selection
    app.events = function () {
        $('#fontChoice').on('change', function() {
            const selectedFont = $(this).val();
            app.getFont(selectedFont);
        })

    // change the device image based on user selection
        $('#deviceChoice').on('change', function(){
            const selectedDevice = $(this).val();

            console.log(selectedDevice);
            
            if (selectedDevice === 'mobile') {
                console.log('I chose the mobile device.');
                $('div').css('background-image', 'url(https://placeimg.com/650/480/any)');
            } else if (selectedDevice === 'tablet') {
                $('div').css('background-image', 'url(https://placeimg.com/660/480/any)');
            } else if (selectedDevice === 'desktop') {
                $('div').css('background-image', 'url(https://placeimg.com/640/480/any)');
            }
        })
    }

    app.init = function () {
                app.events();
            }
    
    $(function () {
            app.init();

        // change the header text based on the users input
            $('.userText').on('submit', function(e) {
                e.preventDefault();
                const textInput = $('input[type=text]')
                const usersInput = textInput.val();
        // clear the header and the user input with each 'submit'
                $('h1').empty();
                $('h1').append(usersInput);
                textInput.val('');
                
            })

            $('.submitColourForm').on('click', function(e) {
                e.preventDefault();
                const colourInput = $('input[type=color]').val();
                $('h1').css('color', colourInput);
            })
        });

    </script>
</body>
</html>